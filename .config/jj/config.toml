[user]
name = "Dmytro Somliev"
email = "somleff@gmail.com"

[[--scope]]
--when.repositories = ["~/Code"]
[--scope.user]
email = "dmytro.somliev@ibm.com"

[template-aliases]
'format_short_id(id)' = 'id.shortest()'
'format_short_signature(signature)' = 'author.email().local()'
# 'format_short_signature(signature)' = 'signature.name()'
'format_timestamp(ts)' = ''
'description_placeholder' = 'label("description placeholder", "âˆ…")'
# "format_timestamp(timestamp)" = "timestamp.ago()"
# 'format_timestamp(ts)' = '''
# if(
#   ts.after("1 week ago"),
#   ts.ago(),
#   ts.format("%b %d, %Y %H:%M"))
# '''

[remotes.origin]
auto-track-bookmarks = "*"
auto-track-created-bookmarks = "~*"

# [experimental-advance-branches]
# enabled-branches = ["glob:*"]
# disabled-branches = ["main", "dev", "glob:push-*"]

[ui]
merge-editor = "webstorm"

[merge-tools.webstorm]
program = "/Applications/WebStorm.app/Contents/MacOS/webstorm"
edit-args = ["diff", "$left", "$right"]
merge-args = ["merge", "$right", "$left", "$base", "$output"]
diff-args = ["diff", "$left", "$right"]

[revsets]
log = '@ | ancestors(trunk()..(visible_heads() & mine()), 2) | trunk()'

# draft_commit_description ='''
#     concat(
#       coalesce(description, default_commit_description, "\n"),
#       surround(
#         "\nJJ: This commit contains the following changes:\n", "",
#         indent("JJ:     ", diff.stat(72)),
#       ),
#       "\nJJ: ignore-rest\n",
#       diff.git(),
#     )
# '''
